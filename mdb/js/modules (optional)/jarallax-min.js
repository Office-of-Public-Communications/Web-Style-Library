!function(e){"use strict";function t(e){var t=["O","Moz","ms","Ms","Webkit"],i=t.length;if(void 0!==a.style[e])return!0;for(e=e.charAt(0).toUpperCase()+e.substr(1);--i>-1&&void 0===a.style[t[i]+e];);return i>=0}function i(){g=e.innerWidth||document.documentElement.clientWidth,f=e.innerHeight||document.documentElement.clientHeight}function n(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent("on"+t,function(){i.call(e)})}function o(t){e.requestAnimationFrame(function(){"scroll"!==t.type&&i();for(var e=0,n=h.length;e<n;e++)"scroll"!==t.type&&(h[e].coverImage(),h[e].clipContainer()),h[e].onScroll()})}Date.now||(Date.now=function(){return(new Date).getTime()}),e.requestAnimationFrame||function(){for(var t=["webkit","moz"],i=0;i<t.length&&!e.requestAnimationFrame;++i){var n=t[i];e.requestAnimationFrame=e[n+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)||!e.requestAnimationFrame||!e.cancelAnimationFrame){var o=0;e.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(o+16,t);return setTimeout(function(){e(o=i)},i-t)},e.cancelAnimationFrame=clearTimeout}}();var a=document.createElement("div"),r=t("transform"),l=t("perspective"),s=navigator.userAgent,c=s.toLowerCase().indexOf("android")>-1,m=/iPad|iPhone|iPod/.test(s)&&!e.MSStream,p=s.toLowerCase().indexOf("firefox")>-1,u=s.indexOf("MSIE ")>-1||s.indexOf("Trident/")>-1||s.indexOf("Edge/")>-1,d=document.all&&!e.atob,g,f;i();var h=[],y=function(){function e(e,i){var n=this,o;if(n.$item=e,n.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null},o=JSON.parse(n.$item.getAttribute("data-jarallax")||"{}"),n.options=n.extend({},n.defaults,o,i),!(!r||c&&n.options.noAndroid||m&&n.options.noIos)){n.options.speed=Math.min(2,Math.max(-1,parseFloat(n.options.speed)));var a=n.options.elementInViewport;a&&"object"==typeof a&&void 0!==a.length&&(a=a[0]),!a instanceof Element&&(a=null),n.options.elementInViewport=a,n.instanceID=t++,n.image={src:n.options.imgSrc||null,$container:null,$item:null,width:n.options.imgWidth||null,height:n.options.imgHeight||null,useImgTag:m||c||u,position:!l||p?"absolute":"fixed"},n.initImg()&&n.init()}}var t=0;return e}();y.prototype.css=function(t,i){if("string"==typeof i)return e.getComputedStyle?e.getComputedStyle(t).getPropertyValue(i):t.style[i];i.transform&&(l&&(i.transform+=" translateZ(0)"),i.WebkitTransform=i.MozTransform=i.msTransform=i.OTransform=i.transform);for(var n in i)t.style[n]=i[n];return t},y.prototype.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var i in arguments[t])arguments[t].hasOwnProperty(i)&&(e[i]=arguments[t][i]);return e},y.prototype.initImg=function(){var e=this;return null===e.image.src&&(e.image.src=e.css(e.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!e.image.src||"none"===e.image.src)},y.prototype.init=function(){function e(){t.coverImage(),t.clipContainer(),t.onScroll(!0),t.options.onInit&&t.options.onInit.call(t),setTimeout(function(){t.$item&&t.css(t.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)}var t=this,i={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},n={};t.$item.setAttribute("data-jarallax-original-styles",t.$item.getAttribute("style")),"static"===t.css(t.$item,"position")&&t.css(t.$item,{position:"relative"}),"auto"===t.css(t.$item,"z-index")&&t.css(t.$item,{zIndex:0}),t.image.$container=document.createElement("div"),t.css(t.image.$container,i),t.css(t.image.$container,{visibility:"hidden","z-index":t.options.zIndex}),t.image.$container.setAttribute("id","jarallax-container-"+t.instanceID),t.$item.appendChild(t.image.$container),t.image.useImgTag?(t.image.$item=document.createElement("img"),t.image.$item.setAttribute("src",t.image.src),n=t.extend({"max-width":"none"},i,n)):(t.image.$item=document.createElement("div"),n=t.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+t.image.src+'")'},i,n));for(var o=0,a=t.$item;null!==a&&a!==document&&0===o;){var r=t.css(a,"-webkit-transform")||t.css(a,"-moz-transform")||t.css(a,"transform");r&&"none"!==r&&(o=1,t.css(t.image.$container,{transform:"translateX(0) translateY(0)"})),a=a.parentNode}(o||"opacity"===t.options.type||"scale"===t.options.type||"scale-opacity"===t.options.type)&&(t.image.position="absolute"),n.position=t.image.position,t.css(t.image.$item,n),t.image.$container.appendChild(t.image.$item),t.image.width&&t.image.height?e():t.getImageSize(t.image.src,function(i,n){t.image.width=i,t.image.height=n,e()}),h.push(t)},y.prototype.destroy=function(){for(var e=this,t=0,i=h.length;t<i;t++)if(h[t].instanceID===e.instanceID){h.splice(t,1);break}var n=e.$item.getAttribute("data-jarallax-original-styles");e.$item.removeAttribute("data-jarallax-original-styles"),"null"===n?e.$item.removeAttribute("style"):e.$item.setAttribute("style",n),e.$clipStyles&&e.$clipStyles.parentNode.removeChild(e.$clipStyles),e.image.$container.parentNode.removeChild(e.image.$container),e.options.onDestroy&&e.options.onDestroy.call(e),delete e.$item.jarallax;for(var o in e)delete e[o]},y.prototype.getImageSize=function(e,t){if(e&&t){var i=new Image;i.onload=function(){t(i.width,i.height)},i.src=e}},y.prototype.clipContainer=function(){if(!d){var e=this,t=e.image.$container.getBoundingClientRect(),i=t.width,n=t.height;if(!e.$clipStyles){e.$clipStyles=document.createElement("style"),e.$clipStyles.setAttribute("type","text/css"),e.$clipStyles.setAttribute("id","#jarallax-clip-"+e.instanceID);(document.head||document.getElementsByTagName("head")[0]).appendChild(e.$clipStyles)}var o=["#jarallax-container-"+e.instanceID+" {","   clip: rect(0 "+i+"px "+n+"px 0);","   clip: rect(0, "+i+"px, "+n+"px, 0);","}"].join("\n");e.$clipStyles.styleSheet?e.$clipStyles.styleSheet.cssText=o:e.$clipStyles.innerHTML=o}},y.prototype.coverImage=function(){var e=this;if(e.image.width&&e.image.height){var t=e.image.$container.getBoundingClientRect(),i=t.width,n=t.height,o=t.left,a=e.image.width,r=e.image.height,l=e.options.speed,s="scroll"===e.options.type||"scroll-opacity"===e.options.type,c=0,m=0,p=n,u=0,d=0;s&&(c=l<0?l*Math.max(n,f):l*(n+f),l>1?p=Math.abs(c-f):l<0?p=c/l+Math.abs(c):p+=Math.abs(f-n)*(1-l),c/=2),m=p*a/r,m<i&&(m=i,p=m*r/a),s?(u=o+(i-m)/2,d=(f-p)/2):(u=(i-m)/2,d=(n-p)/2),"absolute"===e.image.position&&(u-=o),e.parallaxScrollDistance=c,e.css(e.image.$item,{width:m+"px",height:p+"px",marginLeft:u+"px",marginTop:d+"px"}),e.options.onCoverImage&&e.options.onCoverImage.call(e)}},y.prototype.isVisible=function(){return this.isElementInViewport||!1},y.prototype.onScroll=function(e){var t=this;if(t.image.width&&t.image.height){var i=t.$item.getBoundingClientRect(),n=i.top,o=i.height,a={visibility:"visible",backgroundPosition:"50% 50%"},r=i;if(t.options.elementInViewport&&(r=t.options.elementInViewport.getBoundingClientRect()),t.isElementInViewport=r.bottom>=0&&r.right>=0&&r.top<=f&&r.left<=g,e||t.isElementInViewport){var l=Math.max(0,n),s=Math.max(0,o+n),c=Math.max(0,-n),m=Math.max(0,n+o-f),p=Math.max(0,o-(n+o-f)),u=Math.max(0,-n+f-o),d=1-2*(f-n)/(f+o),h=1;if(o<f?h=1-(c||m)/o:s<=f?h=s/f:p<=f&&(h=p/f),"opacity"!==t.options.type&&"scale-opacity"!==t.options.type&&"scroll-opacity"!==t.options.type||(a.transform="",a.opacity=h),"scale"===t.options.type||"scale-opacity"===t.options.type){var y=1;t.options.speed<0?y-=t.options.speed*h:y+=t.options.speed*(1-h),a.transform="scale("+y+")"}if("scroll"===t.options.type||"scroll-opacity"===t.options.type){var v=t.parallaxScrollDistance*d;"absolute"===t.image.position&&(v-=n),a.transform="translateY("+v+"px)"}t.css(t.image.$item,a),t.options.onScroll&&t.options.onScroll.call(t,{section:i,beforeTop:l,beforeTopEnd:s,afterTop:c,beforeBottom:m,beforeBottomEnd:p,afterBottom:u,visiblePercent:h,fromViewportCenter:d})}}},n(e,"scroll",o),n(e,"resize",o),n(e,"orientationchange",o),n(e,"load",o);var v=function(e){("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)&&(e=[e]);var t=arguments[1],i=Array.prototype.slice.call(arguments,2),n=e.length,o=0,a;for(o;o<n;o++)if("object"==typeof t||void 0===t?e[o].jarallax||(e[o].jarallax=new y(e[o],t)):e[o].jarallax&&(a=e[o].jarallax[t].apply(e[o].jarallax,i)),void 0!==a)return a;return e};v.constructor=y;var x=e.jarallax;if(e.jarallax=v,e.jarallax.noConflict=function(){return e.jarallax=x,this},"undefined"!=typeof jQuery){var b=function(){var t=arguments||[];Array.prototype.unshift.call(t,this);var i=v.apply(e,t);return"object"!=typeof i?i:this};b.constructor=y;var I=jQuery.fn.jarallax;jQuery.fn.jarallax=b,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=I,this}}n(e,"DOMContentLoaded",function(){v(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window);